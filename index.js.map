{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["    let query = '';\n\n    function updateQuery(newQuery) {\n    query = newQuery;\n    }\n\n    function getBaseUrl() {\n    const API_KEY = '47095824-8bdea46d531b71ca6f863e2d0';\n    return `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n    }\n\n    export { updateQuery, getBaseUrl };\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet lightbox = null;\n\nexport function renderGallery(images) {\n    const galleryContainer = document.querySelector('.gallery-container');\n    galleryContainer.innerHTML = '';\n    const imagesToDisplay = images.slice(0, 9);\n\n    imagesToDisplay.forEach(image => {\n    const li = document.createElement('li');\n    li.classList.add('image-item');\n\n    li.innerHTML = `\n            <a href=\"${image.largeImageURL}\" class=\"gallery-link\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" class=\"image-view\" >\n            </a>\n            <div class=\"image-info-container\">\n                <ul class=\"image-info-list\">\n                    <li class=\"image-info-item\">\n                        <h2>Likes</h2>\n                        <p>${image.likes}</p>\n                    </li>\n                    <li class=\"image-info-item\">\n                        <h2>Views</h2>\n                        <p>${image.views}</p>\n                    </li>\n                    <li class=\"image-info-item\">\n                        <h2>Comments</h2>\n                        <p>${image.comments}</p>\n                    </li>\n                    <li class=\"image-info-item\">\n                        <h2>Downloads</h2>\n                        <p>${image.downloads}</p>\n                    </li>\n                </ul>\n            </div>\n        `;\n\n    galleryContainer.appendChild(li);\n    });\n\n    if (!lightbox) {\n        lightbox = new SimpleLightbox('.gallery-container a', {\n            captions: true,\n            captionsData: 'alt',\n            captionDelay:2000,\n        });\n    } else {\n        lightbox.refresh();\n    }\n    }\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { updateQuery, getBaseUrl } from './js/pixabay-api';\nimport { renderGallery } from './js/render-functions';\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst formInput = document.querySelector('#searchInput');\nconst form = document.querySelector('.input-form');\nconst loader = document.querySelector('.loader')\nconst galleryContainer = document.querySelector('.gallery-container');\n\nfunction checkInput(event) {\n    event.preventDefault();\n\n    const inputContent = formInput.value.trim();\n\n    if (!inputContent) {\n        galleryContainer.innerHTML = '';\n        iziToast.show({\n        message: 'Field cannot be empty',\n        position: 'topRight',\n        backgroundColor: '#ef4040',\n        messageColor: '#fafafb',\n    });\n        return false;\n\n    } else {\n        updateQuery(inputContent);\n        fetchImages(inputContent);\n        return true;\n    }\n    }\n\nfunction fetchImages(query) {\n    loader.style.display = 'block';\n\n    const url = getBaseUrl(query);\n\n    fetch(url)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error('Network response was not ok');\n            }\n            return response.json();\n        })\n        .then(data => {\n            if (data.hits.length === 0) {\n                galleryContainer.innerHTML = '';\n                iziToast.show({\n                    message:'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topRight',\n                    backgroundColor: '#ef4040',\n                    messageColor: '#fafafb',\n                });\n            } else {\n                renderGallery(data.hits);\n            }\n        })\n        .catch(error => {\n            console.error('Error fetching images:', error);\n            iziToast.show({\n                message:'An error occurred while fetching images. Please try again later.',\n                position: 'topRight',\n                backgroundColor: '#ef4040',\n                messageColor: '#fafafb',\n            });\n        })\n        .finally(() => { \n            loader.style.display = 'none';\n        })\n}\n\nform.addEventListener('submit', checkInput);\n"],"names":["query","updateQuery","newQuery","getBaseUrl","lightbox","renderGallery","images","galleryContainer","image","li","SimpleLightbox","formInput","form","loader","checkInput","event","inputContent","fetchImages","iziToast","url","response","data","error"],"mappings":"6vBAAI,IAAIA,EAAQ,GAEZ,SAASC,EAAYC,EAAU,CAC/BF,EAAQE,CACP,CAED,SAASC,GAAa,CAEtB,MAAO,qEAA6C,mBAAmBH,CAAK,CAAC,0DACjF,CCNA,IAAII,EAAW,KAER,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAAmB,SAAS,cAAc,oBAAoB,EACpEA,EAAiB,UAAY,GACLD,EAAO,MAAM,EAAG,CAAC,EAEzB,QAAQE,GAAS,CACjC,MAAMC,EAAK,SAAS,cAAc,IAAI,EACtCA,EAAG,UAAU,IAAI,YAAY,EAE7BA,EAAG,UAAY;AAAA,uBACID,EAAM,aAAa;AAAA,4BACdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAMrCA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,6BAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,6BAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,6BAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,UAMxCD,EAAiB,YAAYE,CAAE,CACnC,CAAK,EAEIL,EAODA,EAAS,QAAO,EANhBA,EAAW,IAAIM,EAAe,uBAAwB,CAClD,SAAU,GACV,aAAc,MACd,aAAa,GACzB,CAAS,CAIT,CC5CA,MAAMC,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAO,SAAS,cAAc,aAAa,EAC3CC,EAAS,SAAS,cAAc,SAAS,EACzCN,EAAmB,SAAS,cAAc,oBAAoB,EAEpE,SAASO,EAAWC,EAAO,CACvBA,EAAM,eAAc,EAEpB,MAAMC,EAAeL,EAAU,MAAM,KAAI,EAEzC,OAAKK,GAWDf,EAAYe,CAAY,EACxBC,EAAwB,EACjB,KAZPV,EAAiB,UAAY,GAC7BW,EAAS,KAAK,CACd,QAAS,wBACT,SAAU,WACV,gBAAiB,UACjB,aAAc,SACtB,CAAK,EACU,GAOV,CAEL,SAASD,EAAYjB,EAAO,CACxBa,EAAO,MAAM,QAAU,QAEvB,MAAMM,EAAMhB,EAAgB,EAE5B,MAAMgB,CAAG,EACJ,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,6BAA6B,EAEjD,OAAOA,EAAS,MAC5B,CAAS,EACA,KAAKC,GAAQ,CACNA,EAAK,KAAK,SAAW,GACrBd,EAAiB,UAAY,GAC7BW,EAAS,KAAK,CACV,QAAQ,2EACR,SAAU,WACV,gBAAiB,UACjB,aAAc,SAClC,CAAiB,GAEDb,EAAcgB,EAAK,IAAI,CAEvC,CAAS,EACA,MAAMC,GAAS,CACZ,QAAQ,MAAM,yBAA0BA,CAAK,EAC7CJ,EAAS,KAAK,CACV,QAAQ,mEACR,SAAU,WACV,gBAAiB,UACjB,aAAc,SAC9B,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACXL,EAAO,MAAM,QAAU,MACnC,CAAS,CACT,CAEAD,EAAK,iBAAiB,SAAUE,CAAU"}